{"ast":null,"code":"var _jsxFileName = \"/Users/daniellluis 1/Desktop/noticias_colaborativas/proyecto_final/frontend/src/components/Comment.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { postLikeComment, postDisLikeComment } from \"../api/api\";\nimport { Token } from \"./token\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comment({\n  comment\n}) {\n  _s();\n\n  const [user, setUser] = useState({\n    user: {\n      name: \"Brais\",\n      email: \"braisfdezlopez@gmail.com\",\n      bio: null,\n      avatar: \"1-lvDActk2od.png\",\n      created_at: \"2021-05-21T12:37:04.000Z\"\n    }\n  });\n  useEffect(() => {\n    const cargarUser = async () => {\n      try {\n        const respuesta = await fetch(`http://localhost:3000/api/v1/users/${comment.id_user}/profile`);\n        console.log(\"respuest\", respuesta);\n\n        if (respuesta.ok) {\n          const body = await respuesta.json();\n          setUser(body);\n        }\n      } catch (msg) {\n        console.error(msg);\n      }\n    };\n\n    cargarUser();\n  }, [comment.id_user]); // LIKE/DISLIKE\n\n  const [token] = useContext(Token);\n\n  async function likeCommentHandler() {\n    const vote = {\n      like: true,\n      dislike: false\n    };\n    const res = await postLikeComment(vote, comment.id, token);\n    const bodyDeLaRespuesta = await res.json();\n    alert(bodyDeLaRespuesta.error);\n  }\n\n  async function disLikeCommentHandler() {\n    const vote = {\n      like: false,\n      dislike: true\n    };\n    const res = await postDisLikeComment(vote, comment.id, token);\n    const bodyDeLaRespuesta = await res.json();\n    alert(bodyDeLaRespuesta.error);\n  }\n\n  const fechaCreacion = comment.created_at;\n  const fechaFormateada = new Date(fechaCreacion).toLocaleString();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Publicado por \", user.user.name, \" el \", fechaFormateada]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: comment.comment\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: likeCommentHandler,\n        children: \"\\uD83D\\uDC4D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: comment.comment_like\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: disLikeCommentHandler,\n        children: \"\\uD83D\\uDC4E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: comment.comment_dislike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Comment, \"vE8j5cyne8VgwHa9jR0MVhKqc+M=\");\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/daniellluis 1/Desktop/noticias_colaborativas/proyecto_final/frontend/src/components/Comment.js"],"names":["useContext","useEffect","useState","postLikeComment","postDisLikeComment","Token","Comment","comment","user","setUser","name","email","bio","avatar","created_at","cargarUser","respuesta","fetch","id_user","console","log","ok","body","json","msg","error","token","likeCommentHandler","vote","like","dislike","res","id","bodyDeLaRespuesta","alert","disLikeCommentHandler","fechaCreacion","fechaFormateada","Date","toLocaleString","comment_like","comment_dislike"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { postLikeComment, postDisLikeComment } from \"../api/api\";\nimport { Token } from \"./token\";\n\nfunction Comment({ comment }) {\n  const [user, setUser] = useState({\n    user: {\n      name: \"Brais\",\n      email: \"braisfdezlopez@gmail.com\",\n      bio: null,\n      avatar: \"1-lvDActk2od.png\",\n      created_at: \"2021-05-21T12:37:04.000Z\",\n    },\n  });\n\n  useEffect(() => {\n    const cargarUser = async () => {\n      try {\n        const respuesta = await fetch(\n          `http://localhost:3000/api/v1/users/${comment.id_user}/profile`\n        );\n        console.log(\"respuest\", respuesta);\n        if (respuesta.ok) {\n          const body = await respuesta.json();\n\n          setUser(body);\n        }\n      } catch (msg) {\n        console.error(msg);\n      }\n    };\n\n    cargarUser();\n  }, [comment.id_user]);\n\n  // LIKE/DISLIKE\n  const [token] = useContext(Token);\n\n  async function likeCommentHandler() {\n    const vote = {\n      like: true,\n      dislike: false,\n    };\n\n    const res = await postLikeComment(vote, comment.id, token);\n    const bodyDeLaRespuesta = await res.json();\n    alert(bodyDeLaRespuesta.error);\n  }\n\n  async function disLikeCommentHandler() {\n    const vote = {\n      like: false,\n      dislike: true,\n    };\n\n    const res = await postDisLikeComment(vote, comment.id, token);\n    const bodyDeLaRespuesta = await res.json();\n    alert(bodyDeLaRespuesta.error);\n  }\n\n  const fechaCreacion = comment.created_at;\n  const fechaFormateada = new Date(fechaCreacion).toLocaleString();\n\n  return (\n    <div className=\"comment\">\n      <div>\n        <h5>\n          Publicado por {user.user.name} el {fechaFormateada}\n        </h5>\n      </div>\n      <p>{comment.comment}</p>\n      <div>\n        <button onClick={likeCommentHandler}>üëç</button>\n        <span>{comment.comment_like}</span>\n        <button onClick={disLikeCommentHandler}>üëé</button>\n        <span>{comment.comment_dislike}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}